<%= form_with model: leaverecords do |form|%>
  <%= form.text_field :user_id, value: current_user.id, :hidden => true %>
	<div>
    <%= form.label :date_from %>
    <%= form.date_field :date_from %>
  </div>

  <div>
    <%= form.label :date_to %>
    <%= form.date_field :date_to %>
  </div>

  <div>
    <%= form.label :description %>
    <%= form.text_field :description %>
  </div>
	<!--Status-->
	<div>
		<%if current_user.role == 'admin' %>
			<%= form.label :status %>
			<%= form.select :status, [["Approval Pending", "Approval Pending"], ["Accepted", "Accepted"], ["Rejected", "Rejected"]] %>
		<% else %>
			<%= form.label :status %>
			<%= form.select :status, [["Approval Pending", "Approval Pending"]] %>
		<% end %>
	</div>
	
	<!--approval by-->
	<%if current_user.role == 'admin'%>
		<%= form.text_field :approval_by, value: current_user.name, :hidden => true %>
	<% end %>
  
	<div>
    <%= form.submit %>
  </div>
<%end%>
<div>
	<%= flash[:notice] %>
</div>
<% if leaverecords.errors.any? %>
  <ul>
    <% leaverecords.errors.each do |error| %>
      <li><%= error.full_message %></li>
    <% end %>
  </ul>
<% end %>